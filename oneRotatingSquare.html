<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Phaser - Rotating square</title>

  <script src="phaser.min.js"></script>

  <style type="text/css">

    body {
      margin: 20px;
    }

  </style>
</head>
<body>

<script type="text/javascript">

var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'phaser-example', { create: create, update: update });

var centerX;
var centerY;

var coord;
var square;
var squaregraphics;
var cornerDistance;

function create() {

  squaregraphics = game.add.graphics(0,0);

  centerX = game.width / 2;
  centerY = game.height / 2;

  coord = [new Phaser.Point(centerX-50, centerY-50), new Phaser.Point(centerX+50, centerY-50), new Phaser.Point(centerX+50, centerY+50), new Phaser.Point(centerX-50, centerY+50)];
  square = new Phaser.Polygon(coord);

  cornerDistance = Math.sqrt(100 * 100 + 100 * 100);

}

function update(){

  squaregraphics.clear();

  for(var i = 0; i < 4; i++){
    coord[i].rotate(centerX, centerY, 1, true, cornerDistance);
  }

  square.setTo(coord);

  squaregraphics.beginFill(0xffffff);
  squaregraphics.drawPolygon(square.points);
  squaregraphics.endFill();

}

</script>

</body>
</html>
